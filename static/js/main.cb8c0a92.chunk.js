(this.webpackJsonpinforce=this.webpackJsonpinforce||[]).push([[0],{117:function(e,t,n){},119:function(e,t,n){"use strict";n.r(t);var a,c=n(0),r=n.n(c),i=n(19),o=n.n(i),s=n(24),u=n(22),l=n(5),d=n(15),b=n(23),j=n(28),m=Object(u.b)("product/add",(function(e){var t=e.id,n=e.imageUrl,a=e.name,c=e.count,r=e.size,i=e.weight,o=e.comments;return{payload:{id:t,imageUrl:n,name:a,count:c,size:r,weight:i,comments:void 0===o?[]:o}}})),p=Object(u.b)("product/get"),O=Object(u.b)("product/delete"),h=Object(u.b)("product/filter"),f=Object(u.b)("product/fetchRequest"),g=Object(u.b)("product/fetchSuccess"),x=Object(u.b)("product/fetchError"),v=Object(u.c)({items:[],isLoading:!1,error:""},(a={},Object(l.a)(a,p,(function(e,t){var n=t.payload;return Object(b.a)(Object(b.a)({},e),{},{items:Object(d.a)(n)})})),Object(l.a)(a,m,(function(e,t){var n=t.payload;return Object(b.a)(Object(b.a)({},e),{},{items:[].concat(Object(d.a)(e.items),[n])})})),Object(l.a)(a,O,(function(e,t){var n=t.payload;return Object(b.a)(Object(b.a)({},e),{},{items:e.items.filter((function(e){return e.id!==n}))})})),Object(l.a)(a,f,(function(e){return Object(b.a)(Object(b.a)({},e),{},{isLoading:!0})})),Object(l.a)(a,g,(function(e){return Object(b.a)(Object(b.a)({},e),{},{isLoading:!1})})),Object(l.a)(a,x,(function(e,t){var n=t.payload;return Object(b.a)(Object(b.a)({},e),{},{error:n})})),a)),w=Object(u.c)("",Object(l.a)({},h,(function(e,t){return t.payload}))),y=Object(j.b)({productsItems:v,filter:w}),k=Object(u.a)({reducer:{products:y}}),C=(n(94),n(12)),z=n(21),S=n(34),W=n.n(S),L=n(48),U=n(43),q=n.n(U);q.a.defaults.baseURL="http://localhost:3030";var E,M,P=n(35),F=function(e){return e.products.productsItems.items},I=function(e){return e.products.filter},B=Object(P.a)([F,I],(function(e,t){var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)}))})),H=n(162),N=n(164),R=n(163),T=n(160),_=n(166),A=n(167),D=n(161),J=n(26),K=n(2),G=J.a.div(E||(E=Object(z.a)(["\n  display: flex;\n  justify-content: space-between;\n"])));function Q(e){var t=e.id,n=e.imageUrl,a=e.name,c=e.count,r=e.size,i=e.weight,o=(e.comments,e.deleteCard),s=e.openModal;return Object(K.jsxs)(H.a,{sx:{maxWidth:345},children:[Object(K.jsxs)(_.a,{onClick:s,children:[Object(K.jsx)(R.a,{component:"img",height:"140",image:n,alt:a}),Object(K.jsxs)(N.a,{children:[Object(K.jsx)(T.a,{gutterBottom:!0,variant:"h5",component:"div",children:a}),Object(K.jsx)(T.a,{component:"span",variant:"body2",color:"text.secondary",children:Object(K.jsxs)(G,{children:[Object(K.jsxs)("span",{children:["Count: ",c]}),Object(K.jsxs)("span",{children:["Weight: ",i]}),Object(K.jsxs)("span",{children:["Width: ",r.width]}),Object(K.jsxs)("span",{children:["Height: ",r.height]})]})})]})]}),Object(K.jsx)(A.a,{children:Object(K.jsx)(D.a,{size:"small",color:"primary",onClick:o,children:"Delete"})})]},t)}var V,X=J.a.ul(M||(M=Object(z.a)(["\n  display: grid;\n  max-width: calc(100vw - 48px);\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n  grid-gap: 16px;\n  margin-top: 0;\n  margin-bottom: 20px;\n  padding: 0;\n  list-style: none;\n  margin-left: auto;\n  margin-right: auto;\n"]))),Y=function(e){var t=e.click,n=Object(s.c)(F),a=Object(s.c)(B),r=Object(s.b)();return Object(c.useEffect)((function(){r(function(){var e=Object(L.a)(W.a.mark((function e(t){var n,a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(f()),e.prev=1,e.next=4,q.a.get("/products");case 4:n=e.sent,a=n.data,t(p(a)),t(g()),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t(x(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}())}),[r]),n.length>0&&Object(K.jsx)(X,{children:a.map((function(e){var n=e.id,a=e.imageUrl,c=e.name,i=e.count,o=e.size,s=e.weight,u=e.comments;return Object(K.jsx)(Q,{id:n,imageUrl:a,name:c,count:i,size:o,weight:s,comments:u,deleteCard:function(){return r(function(e){return function(){var t=Object(L.a)(W.a.mark((function t(n){var a;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.toString(),n(f()),t.prev=2,t.next=5,q.a.delete("/products/".concat(a));case 5:n(O(e)),n(g()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),n(x(t.t0));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()}(n))},openModal:t},n)}))})},Z=n(157),$=J.a.p(V||(V=Object(z.a)(["\n  font-size: 18px;\n  font-weight: 400;\n  font-style: italic;\n"]))),ee=function(){var e=Object(s.c)(I),t=Object(s.c)(F),n=Object(s.b)();return 0!==t.length?Object(K.jsx)(Z.a,{margin:"normal",size:"small",label:"Find product by name",type:"text",name:"Find product",value:e,onChange:function(e){n(h(e.target.value))}}):Object(K.jsx)($,{children:"Our shop doesn`t have any products in the current time. Please, visit us later"})},te=n(75),ne=n.n(te),ae=document.querySelector("#modal-root");var ce,re=function(e){var t=e.closeModal;function n(e){"Escape"===e.code&&t()}return Object(c.useEffect)((function(){return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}})),Object(i.createPortal)(Object(K.jsx)("div",{className:ne.a.overlay,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(K.jsx)("form",{})}),ae)},ie=n(46),oe=J.a.form(ce||(ce=Object(z.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 400px;\n  padding: 20px;\n  border: 3px solid #87cefa;\n  margin-top: 15px;\n"]))),se=function(){var e=Object(c.useState)(!1),t=Object(C.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),i=Object(C.a)(r,2),o=i[0],u=i[1],l=Object(c.useState)(""),d=Object(C.a)(l,2),b=d[0],j=d[1],p=Object(c.useState)(""),O=Object(C.a)(p,2),h=O[0],v=O[1],w=Object(c.useState)(""),y=Object(C.a)(w,2),k=y[0],z=y[1],S=Object(c.useState)(""),U=Object(C.a)(S,2),E=U[0],M=U[1],P=Object(c.useState)(""),F=Object(C.a)(P,2),I=F[0],B=F[1],H=Object(s.b)(),N=function(e){var t=e.target,n=t.name,a=t.value;switch(n){case"name":u(a);break;case"imageUrl":j(a);break;case"count":v(a);break;case"width":z(a);break;case"height":M(a);break;case"weight":B(a);break;default:return}},R=function(){u(""),j(""),v(""),z(""),M(""),B("")};return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(D.a,{onClick:function(){a(!n)},variant:"outlined",size:"medium",children:n?"Close add product form":"Open add product form"}),n&&Object(K.jsxs)(oe,{onSubmit:function(e){e.preventDefault();var t;H((t={name:o,imageUrl:b,count:h,size:{width:k,height:E},weight:I,comments:[]},function(){var e=Object(L.a)(W.a.mark((function e(n){var a,c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(f()),e.prev=1,e.next=4,q.a.post("/products",t);case 4:a=e.sent,c=a.data,n(m(c)),n(g()),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n(x(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}())),ie.b.success("".concat(o," was added to shop"),{theme:"colored",autoClose:2500}),R()},children:[Object(K.jsx)(Z.a,{fullWidth:!0,margin:"normal",label:"Name",type:"text",name:"name",value:o,required:!0,onChange:N,size:"small"}),Object(K.jsx)(Z.a,{fullWidth:!0,margin:"normal",label:"Image URL",type:"text",name:"imageUrl",value:b,required:!0,onChange:N,size:"small"}),Object(K.jsx)(Z.a,{fullWidth:!0,margin:"normal",label:"Count",type:"number",name:"count",value:h,required:!0,onChange:N,size:"small"}),Object(K.jsx)(Z.a,{fullWidth:!0,margin:"normal",label:"Width of a product",type:"number",name:"width",value:k,required:!0,onChange:N,size:"small"}),Object(K.jsx)(Z.a,{fullWidth:!0,margin:"normal",label:"Height of a product",type:"number",name:"height",value:E,required:!0,onChange:N,size:"small"}),Object(K.jsx)(Z.a,{fullWidth:!0,margin:"normal",label:"Weight",type:"number",name:"weight",value:I,required:!0,onChange:N,size:"small"}),Object(K.jsx)(D.a,{type:"submit",variant:"contained",children:"Add product"})]})]})};n(117),n(118);var ue=function(){var e=Object(c.useState)(!1),t=Object(C.a)(e,2),n=t[0],a=t[1];return Object(K.jsxs)("div",{className:"App",children:[Object(K.jsx)("h1",{children:"Test shop application"}),Object(K.jsx)(ee,{}),Object(K.jsx)("h2",{children:"Products"}),Object(K.jsx)(Y,{click:function(e){a(!0)}}),Object(K.jsx)(se,{}),n&&Object(K.jsx)(re,{closeModal:function(){a(!n)}}),Object(K.jsx)(ie.a,{position:"top-right",autoClose:4e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})};o.a.render(Object(K.jsx)(r.a.StrictMode,{children:Object(K.jsx)(s.a,{store:k,children:Object(K.jsx)(ue,{})})}),document.getElementById("root"))},75:function(e,t,n){e.exports={overlay:"ModalWindow_overlay__1fKP9"}},94:function(e,t,n){}},[[119,1,2]]]);
//# sourceMappingURL=main.cb8c0a92.chunk.js.map