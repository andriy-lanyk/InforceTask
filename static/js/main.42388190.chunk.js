(this.webpackJsonpinforce=this.webpackJsonpinforce||[]).push([[0],{133:function(e,t,n){},159:function(e,t,n){},161:function(e,t,n){"use strict";n.r(t);var a,r,c=n(0),i=n.n(c),o=n(21),s=n.n(o),u=n(17),l=n(24),d=n(5),j=n(18),b=n(16),m=n(37),p=Object(l.b)("product/add",(function(e){var t=e.id,n=e.imageUrl,a=e.name,r=e.count,c=e.size,i=e.weight,o=e.comments;return{payload:{id:t,imageUrl:n,name:a,count:r,size:c,weight:i,comments:void 0===o?[]:o}}})),O=Object(l.b)("product/get"),h=Object(l.b)("product/delete"),f=Object(l.b)("product/filter"),g=Object(l.b)("product/getId"),x=Object(l.b)("product/patch",(function(e){var t=e.id,n=e.imageUrl,a=e.name,r=e.count,c=e.size,i=e.weight,o=e.comments;return{payload:{id:t,imageUrl:n,name:a,count:r,size:c,weight:i,comments:void 0===o?[]:o}}})),v=Object(l.b)("product/fetchRequest"),w=Object(l.b)("product/fetchSuccess"),y=Object(l.b)("product/fetchError"),C=Object(l.c)({items:[],product:[],isLoading:!1,error:""},(a={},Object(d.a)(a,O,(function(e,t){var n=t.payload;return Object(b.a)(Object(b.a)({},e),{},{items:Object(j.a)(n)})})),Object(d.a)(a,g,(function(e,t){var n=t.payload;return Object(b.a)(Object(b.a)({},e),{},{product:n})})),Object(d.a)(a,x,(function(e,t){var n=t.payload;return Object(b.a)(Object(b.a)({},e),{},{items:e.items.map((function(e){return e.id===n.id?n:e})),product:n})})),Object(d.a)(a,p,(function(e,t){var n=t.payload;return Object(b.a)(Object(b.a)({},e),{},{items:[].concat(Object(j.a)(e.items),[n])})})),Object(d.a)(a,h,(function(e,t){var n=t.payload;return Object(b.a)(Object(b.a)({},e),{},{items:e.items.filter((function(e){return e.id!==n}))})})),Object(d.a)(a,v,(function(e){return Object(b.a)(Object(b.a)({},e),{},{isLoading:!0})})),Object(d.a)(a,w,(function(e){return Object(b.a)(Object(b.a)({},e),{},{isLoading:!1})})),Object(d.a)(a,y,(function(e,t){var n=t.payload;return Object(b.a)(Object(b.a)({},e),{},{error:n})})),a)),k=Object(l.c)("",Object(d.a)({},f,(function(e,t){return t.payload}))),_=Object(m.b)({productsItems:C,filter:k}),z=Object(l.a)({reducer:{products:_}}),S=n(49),W=(n(133),n(15)),I=n(13),P=n(4),U=n(27),N=n(215),q=n(212),L=n(207),E=n(214),M=n(216),F=n(213),T=n(218),D=n(217),B=n(107),H=n.n(B),R=n(108),A=n.n(R),V=n(109),G=n.n(V),K=n(48),J=function(e){return e.products.productsItems.items},Z=function(e){return e.products.filter},X=function(e){return e.products.productsItems.product},Y=Object(K.a)([J,Z],(function(e,t){var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)}))})),Q=n(208),$=n(31),ee=n(38),te=ee.a.p(r||(r=Object($.a)(["\n  font-size: 18px;\n  font-weight: 400;\n  font-style: italic;\n"]))),ne=n(2),ae=function(){var e=Object(u.c)(Z),t=Object(u.c)(J),n=Object(u.b)();return 0!==t.length?Object(ne.jsx)(Q.a,{margin:"normal",size:"small",label:"Find product by name",type:"text",name:"Find product",value:e,onChange:function(e){n(f(e.target.value))}}):Object(ne.jsx)(te,{children:"Our shop doesn`t have any products in the current time. Please, visit us later"})},re=n(34),ce=n.n(re),ie=n(54),oe=n(47),se=n.n(oe);se.a.defaults.baseURL="http://localhost:3030";var ue=n(221),le=n(224),de=n(223),je=n(222),be=n(225),me=n(220),pe=n(70),Oe=n.n(pe),he=document.querySelector("#modal-root");var fe,ge=function(e){var t=e.closeModal,n=e.name,a=e.id;Object(c.useEffect)((function(){return window.addEventListener("keydown",i),function(){window.removeEventListener("keydown",i)}}));var r=Object(u.b)();function i(e){"Escape"===e.code&&t()}return Object(o.createPortal)(Object(ne.jsx)("div",{className:Oe.a.overlay,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(ne.jsxs)("div",{className:Oe.a.mainContainer,children:[Object(ne.jsxs)("h2",{children:["Please, confirm delete product ",n]}),Object(ne.jsxs)("div",{className:Oe.a.btnContainer,children:[Object(ne.jsx)(me.a,{variant:"contained",size:"small",color:"error",onClick:function(){return r(function(e){return function(){var t=Object(ie.a)(ce.a.mark((function t(n){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.toString(),n(v()),t.prev=2,t.next=5,se.a.delete("/products/".concat(a));case 5:n(h(e)),n(w()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),n(y(t.t0));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()}(a))},children:"Yes, delete product"}),Object(ne.jsx)(me.a,{variant:"contained",size:"small",color:"primary",onClick:t,children:"No, go back"})]})]})}),he)},xe=n(86),ve=n.n(xe);function we(e){var t=e.id,n=e.imageUrl,a=e.name,r=e.count,i=(e.size,e.weight,e.comments,Object(c.useState)(!1)),o=Object(I.a)(i,2),s=o[0],u=o[1],l=Object(W.h)();return Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsxs)(ue.a,{sx:{maxWidth:345},children:[Object(ne.jsx)(S.b,{className:ve.a.link,to:{pathname:"/InforceTask/".concat(t),state:{from:l,productId:t}},children:Object(ne.jsxs)(je.a,{children:[Object(ne.jsx)(de.a,{component:"img",height:"140",image:n,alt:a}),Object(ne.jsxs)(le.a,{children:[Object(ne.jsx)(F.a,{gutterBottom:!0,variant:"h5",component:"div",children:a}),Object(ne.jsx)(F.a,{component:"span",variant:"body2",color:"text.secondary",children:Object(ne.jsx)("div",{className:ve.a.divContainer,children:Object(ne.jsxs)("span",{children:["Count: ",r]})})})]})]})}),Object(ne.jsx)(be.a,{children:Object(ne.jsx)(me.a,{size:"small",color:"primary",onClick:function(){u(!0)},children:"Delete"})})]},t),s&&Object(ne.jsx)(ge,{closeModal:function(){u(!s)},name:a,id:t})]})}var ye,Ce,ke=ee.a.ul(fe||(fe=Object($.a)(["\n  display: grid;\n  max-width: calc(100vw - 48px);\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n  grid-gap: 16px;\n  margin-top: 0;\n  margin-bottom: 20px;\n  padding: 0;\n  list-style: none;\n  margin-left: auto;\n  margin-right: auto;\n"]))),_e=function(){var e=Object(u.c)(J),t=Object(u.c)(Y),n=Object(u.b)();return Object(c.useEffect)((function(){n(function(){var e=Object(ie.a)(ce.a.mark((function e(t){var n,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(v()),e.prev=1,e.next=4,se.a.get("/products");case 4:n=e.sent,a=n.data,t(O(a)),t(w()),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t(y(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}())}),[n]),e.length>0&&Object(ne.jsx)(ke,{children:t.map((function(e){var t=e.id,n=e.imageUrl,a=e.name,r=e.count,c=e.size,i=e.weight,o=e.comments;return Object(ne.jsx)(we,{id:t,imageUrl:n,name:a,count:r,size:c,weight:i,comments:o},t)}))})},ze=n(50),Se=ee.a.form(ye||(ye=Object($.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 400px;\n  padding: 20px;\n  border: 3px solid #87cefa;\n  margin-top: 15px;\n"]))),We=ee.a.div(Ce||(Ce=Object($.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),Ie=function(){var e=Object(c.useState)(!1),t=Object(I.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),i=Object(I.a)(r,2),o=i[0],s=i[1],l=Object(c.useState)(""),d=Object(I.a)(l,2),j=d[0],b=d[1],m=Object(c.useState)(""),O=Object(I.a)(m,2),h=O[0],f=O[1],g=Object(c.useState)(""),x=Object(I.a)(g,2),C=x[0],k=x[1],_=Object(c.useState)(""),z=Object(I.a)(_,2),S=z[0],W=z[1],P=Object(c.useState)(""),U=Object(I.a)(P,2),N=U[0],q=U[1],L=Object(u.b)(),E=function(e){var t=e.target,n=t.name,a=t.value;switch(n){case"name":s(a);break;case"imageUrl":b(a);break;case"count":f(a);break;case"width":k(a);break;case"height":W(a);break;case"weight":q(a);break;default:return}},M=function(){s(""),b(""),f(""),k(""),W(""),q("")};return Object(ne.jsxs)(We,{children:[Object(ne.jsx)(me.a,{onClick:function(){a(!n)},variant:"contained",size:"medium",children:n?"Close add product form":"Open add product form"}),n&&Object(ne.jsxs)(Se,{onSubmit:function(e){e.preventDefault();var t;L((t={name:o,imageUrl:j,count:h,size:{width:C,height:S},weight:N,comments:[]},function(){var e=Object(ie.a)(ce.a.mark((function e(n){var a,r;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(v()),e.prev=1,e.next=4,se.a.post("/products",t);case 4:a=e.sent,r=a.data,n(p(r)),n(w()),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n(y(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}())),ze.b.success("".concat(o," was added to shop"),{theme:"colored",autoClose:2500}),M()},children:[Object(ne.jsx)(Q.a,{fullWidth:!0,margin:"normal",label:"Name",type:"text",name:"name",value:o,required:!0,onChange:E,size:"small"}),Object(ne.jsx)(Q.a,{fullWidth:!0,margin:"normal",label:"Image URL",type:"text",name:"imageUrl",value:j,required:!0,onChange:E,size:"small"}),Object(ne.jsx)(Q.a,{fullWidth:!0,margin:"normal",label:"Count",type:"number",name:"count",value:h,required:!0,onChange:E,size:"small"}),Object(ne.jsx)(Q.a,{fullWidth:!0,margin:"normal",label:"Width of a product",type:"number",name:"width",value:C,required:!0,onChange:E,size:"small"}),Object(ne.jsx)(Q.a,{fullWidth:!0,margin:"normal",label:"Height of a product",type:"number",name:"height",value:S,required:!0,onChange:E,size:"small"}),Object(ne.jsx)(Q.a,{fullWidth:!0,margin:"normal",label:"Weight",type:"number",name:"weight",value:N,required:!0,onChange:E,size:"small"}),Object(ne.jsx)(me.a,{type:"submit",variant:"contained",children:"Add product"})]})]})},Pe=260,Ue=Object(P.a)("main",{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(b.a)({flexGrow:1,padding:t.spacing(3),transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),marginLeft:"-".concat(Pe,"px")},n&&{transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginLeft:0})})),Ne=Object(P.a)(E.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(b.a)({transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},n&&{width:"calc(100% - ".concat(Pe,"px)"),marginLeft:"".concat(Pe,"px"),transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen})})})),qe=Object(P.a)("div")((function(e){var t=e.theme;return Object(b.a)(Object(b.a)({display:"flex",alignItems:"center",padding:t.spacing(0,1)},t.mixins.toolbar),{},{justifyContent:"flex-end"})}));function Le(e){var t=e.openModal,n=Object(U.a)(),a=c.useState(!1),r=Object(I.a)(a,2),i=r[0],o=r[1];return Object(ne.jsxs)(N.a,{sx:{display:"flex"},children:[Object(ne.jsx)(L.a,{}),Object(ne.jsx)(Ne,{position:"fixed",open:i,children:Object(ne.jsxs)(M.a,{children:[Object(ne.jsx)(D.a,{color:"inherit","aria-label":"open drawer",onClick:function(){o(!0)},edge:"start",sx:Object(b.a)({mr:2},i&&{display:"none"}),children:Object(ne.jsx)(H.a,{})}),Object(ne.jsx)(F.a,{variant:"h6",noWrap:!0,component:"div",children:"Test shop application"})]})}),Object(ne.jsxs)(q.a,{sx:{width:Pe,flexShrink:0,"& .MuiDrawer-paper":{width:Pe,boxSizing:"border-box"}},variant:"persistent",anchor:"left",open:i,children:[Object(ne.jsxs)(qe,{children:["Filter menu",Object(ne.jsx)(D.a,{onClick:function(){o(!1)},children:"ltr"===n.direction?Object(ne.jsx)(A.a,{}):Object(ne.jsx)(G.a,{})})]}),Object(ne.jsx)(T.a,{}),Object(ne.jsx)(ae,{})]}),Object(ne.jsxs)(Ue,{open:i,children:[Object(ne.jsx)(qe,{}),Object(ne.jsx)(_e,{openModal:t}),Object(ne.jsx)(Ie,{})]})]})}var Ee=n(71),Me=n.n(Ee),Fe=document.querySelector("#modal-root");var Te=function(e){var t=e.closeModal,n=e.id,a=Object(u.c)(X),r=Object(c.useState)(a.name),i=Object(I.a)(r,2),s=i[0],l=i[1],d=Object(c.useState)(a.imageUrl),j=Object(I.a)(d,2),b=j[0],m=j[1],p=Object(c.useState)(a.count),O=Object(I.a)(p,2),h=O[0],f=O[1],g=Object(c.useState)(a.size.width),C=Object(I.a)(g,2),k=C[0],_=C[1],z=Object(c.useState)(a.size.height),S=Object(I.a)(z,2),W=S[0],P=S[1],U=Object(c.useState)(a.weight),N=Object(I.a)(U,2),q=N[0],L=N[1];Object(c.useEffect)((function(){return window.addEventListener("keydown",M),function(){window.removeEventListener("keydown",M)}}));var E=Object(u.b)();function M(e){"Escape"===e.code&&t()}var F=function(e){var t=e.target,n=t.name,a=t.value;switch(n){case"name":l(a);break;case"imageUrl":m(a);break;case"count":f(a);break;case"width":_(a);break;case"height":P(a);break;case"weight":L(a);break;default:return}};return Object(o.createPortal)(Object(ne.jsx)("div",{className:Me.a.overlay,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(ne.jsx)("div",{className:Me.a.mainContainer,children:Object(ne.jsxs)("form",{className:Me.a.formContainer,onSubmit:function(e){e.preventDefault();E(function(e,t){return function(){var n=Object(ie.a)(ce.a.mark((function n(a){var r,c,i;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.toString(),a(v()),n.prev=2,n.next=5,se.a.patch("/products/".concat(r),e);case 5:c=n.sent,i=c.data,console.log("data: ",i),a(x(i)),a(w()),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),a(y(n.t0));case 15:case"end":return n.stop()}}),n,null,[[2,12]])})));return function(e){return n.apply(this,arguments)}}()}({name:s,imageUrl:b,count:h,size:{width:k,height:W},weight:q,comments:[]},n)),ze.b.success("Product ".concat(s," was changed"),{theme:"colored",autoClose:2500}),t()},children:[Object(ne.jsx)(Q.a,{fullWidth:!0,margin:"normal",label:"Name",type:"text",name:"name",value:s,required:!0,onChange:F,size:"small"}),Object(ne.jsx)(Q.a,{fullWidth:!0,margin:"normal",label:"Image URL",type:"text",name:"imageUrl",value:b,required:!0,onChange:F,size:"small"}),Object(ne.jsx)(Q.a,{fullWidth:!0,margin:"normal",label:"Count",type:"number",name:"count",value:h,required:!0,onChange:F,size:"small"}),Object(ne.jsx)(Q.a,{fullWidth:!0,margin:"normal",label:"Width of a product",type:"number",name:"width",value:k,required:!0,onChange:F,size:"small"}),Object(ne.jsx)(Q.a,{fullWidth:!0,margin:"normal",label:"Height of a product",type:"number",name:"height",value:W,required:!0,onChange:F,size:"small"}),Object(ne.jsx)(Q.a,{fullWidth:!0,margin:"normal",label:"Weight",type:"number",name:"weight",value:q,required:!0,onChange:F,size:"small"}),Object(ne.jsx)(me.a,{type:"submit",variant:"contained",children:"Add product"})]})})}),Fe)},De=n(59),Be=n.n(De);var He=function(){var e,t,n,a,r,i=Object(c.useState)(!1),o=Object(I.a)(i,2),s=o[0],l=o[1],d=Object(W.g)(),j=Object(W.h)(),b=null!==(e=null===j||void 0===j||null===(t=j.state)||void 0===t?void 0:t.productId)&&void 0!==e?e:1,m=Object(u.c)(X),p=Object(u.b)();return Object(c.useEffect)((function(){var e;p((e=b,function(){var t=Object(ie.a)(ce.a.mark((function t(n){var a,r,c;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.toString(),n(v()),t.prev=2,t.next=5,se.a.get("/products/".concat(a));case 5:r=t.sent,c=r.data,n(g(c)),n(w()),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),n(y(t.t0));case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()))}),[p,b]),Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsxs)("div",{className:Be.a.container,children:[Object(ne.jsx)(me.a,{variant:"contained",size:"medium",color:"primary","aria-label":"Go back",onClick:function(){var e,t;d.push(null!==(e=null===j||void 0===j||null===(t=j.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/InforceTask")},children:"Go to product list"}),Object(ne.jsx)(ne.Fragment,{children:m&&Object(ne.jsx)(ne.Fragment,{children:Object(ne.jsxs)("div",{className:Be.a.productContainer,children:[Object(ne.jsx)("div",{className:Be.a.productImage,children:Object(ne.jsx)("img",{src:m.imageUrl,alt:m.name})}),Object(ne.jsxs)("div",{className:Be.a.productDescription,children:[Object(ne.jsx)("h2",{children:m.name}),Object(ne.jsxs)("p",{children:["Count: ",m.count]}),Object(ne.jsxs)("p",{children:["Weight: ",m.weight]}),Object(ne.jsx)("h3",{children:"Product size"}),Object(ne.jsxs)("p",{children:["Width: ",null===(n=m.size)||void 0===n?void 0:n.width]}),Object(ne.jsxs)("p",{children:["Height: ",null===(a=m.size)||void 0===a?void 0:a.height]}),Object(ne.jsx)("h3",{children:"Comments"}),Object(ne.jsx)("ul",{children:null===m||void 0===m||null===(r=m.comments)||void 0===r?void 0:r.map((function(e,t){return Object(ne.jsx)("li",{children:e},t)}))}),Object(ne.jsx)(me.a,{variant:"outlined",size:"medium",color:"secondary","aria-label":"Open edit product window",onClick:function(){l(!0)},children:"Edit product"})]})]})})})]}),s&&Object(ne.jsx)(Te,{closeModal:function(){l(!s)},id:b})]})};n(159),n(160);var Re=function(){return Object(ne.jsxs)("div",{className:"App",children:[Object(ne.jsxs)(W.d,{children:[Object(ne.jsx)(W.b,{path:"/InforceTask",exact:!0,children:Object(ne.jsx)(Le,{})}),Object(ne.jsx)(W.b,{path:"/InforceTask/:productid",children:Object(ne.jsx)(He,{})}),Object(ne.jsx)(W.a,{to:"/InforceTask",exact:!0})]}),Object(ne.jsx)(ze.a,{position:"top-right",autoClose:4e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})};s.a.render(Object(ne.jsx)(i.a.StrictMode,{children:Object(ne.jsx)(u.a,{store:z,children:Object(ne.jsx)(S.a,{children:Object(ne.jsx)(Re,{})})})}),document.getElementById("root"))},59:function(e,t,n){e.exports={productContainer:"ProductView_productContainer__1xOED",productImage:"ProductView_productImage__3np-C",productDescription:"ProductView_productDescription__3IZXm",container:"ProductView_container__BwW9K"}},70:function(e,t,n){e.exports={overlay:"ModalWindow_overlay__1fKP9",mainContainer:"ModalWindow_mainContainer__3aSRs",btnContainer:"ModalWindow_btnContainer__1Pe1c"}},71:function(e,t,n){e.exports={overlay:"ChangeProduct_overlay__3B26z",mainContainer:"ChangeProduct_mainContainer__qPH_p",formContainer:"ChangeProduct_formContainer__2IEAN"}},86:function(e,t,n){e.exports={link:"ProductItem_link__2xiBZ",divContainer:"ProductItem_divContainer__KdvO5"}}},[[161,1,2]]]);
//# sourceMappingURL=main.42388190.chunk.js.map